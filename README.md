# ğŸ¨ Siza MCP Server

> **AI-driven UI generation via Model Context Protocol** Generate complete
> applications, components, and designs from natural language

## ğŸ† **Badges**

[![npm version](https://img.shields.io/npm/v/siza-mcp.svg)](https://www.npmjs.com/package/siza-mcp)
[![npm downloads](https://img.shields.io/npm/dm/siza-mcp.svg)](https://www.npmjs.com/package/siza-mcp)
[![GitHub stars](https://img.shields.io/github/stars/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp)
[![GitHub forks](https://img.shields.io/github/forks/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp)
[![GitHub issues](https://img.shields.io/github/issues/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/issues)
[![GitHub pull requests](https://img.shields.io/github/issues-pr/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/pulls)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![GitHub release](https://img.shields.io/github/release/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/releases)
[![GitHub commits since latest release](https://img.shields.io/github/commits-since/LucasSantana-Dev/siza-mcp/latest.svg)](https://github.com/LucasSantana-Dev/siza-mcp/commits)
[![GitHub last commit](https://img.shields.io/github/last-commit/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/commits)
[![GitHub contributors](https://img.shields.io/github/contributors/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/graphs/contributors)
[![GitHub repo size](https://img.shields.io/github/repo-size/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp)
[![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp)

### ğŸ§ª **Quality & Testing**

[![Tests](https://img.shields.io/github/actions/workflow/status/LucasSantana-Dev/siza-mcp/ci.yml?label=tests)](https://github.com/LucasSantana-Dev/siza-mcp/actions/workflows/ci.yml)
[![Test Coverage](https://img.shields.io/badge/coverage-82%25-brightgreen)](https://github.com/LucasSantana-Dev/siza-mcp)
[![Tests Passing](https://img.shields.io/badge/tests-1192%2B-brightgreen)](https://github.com/LucasSantana-Dev/siza-mcp)
[![Test Suites](https://img.shields.io/badge/suites-67%2B-brightgreen)](https://github.com/LucasSantana-Dev/siza-mcp)

### ğŸ”§ **Build & Deployment**

[![Build Status](https://img.shields.io/github/actions/workflow/status/LucasSantana-Dev/siza-mcp/ci.yml?label=build)](https://github.com/LucasSantana-Dev/siza-mcp/actions/workflows/ci.yml)
[![Deploy Status](https://img.shields.io/github/actions/workflow/status/LucasSantana-Dev/siza-mcp/deploy.yml?label=deploy)](https://github.com/LucasSantana-Dev/siza-mcp/actions/workflows/deploy.yml)
[![Docker Pulls](https://img.shields.io/docker/pulls/lucassantana/siza-mcp.svg)](https://hub.docker.com/r/lucassantana/siza-mcp)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue)](https://www.typescriptlang.org/)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D22-green)](https://nodejs.org/)

### ğŸ›¡ï¸ **Security & Standards**

[![CodeQL](https://img.shields.io/github/actions/workflow/status/LucasSantana-Dev/siza-mcp/codeql.yml?label=CodeQL)](https://github.com/LucasSantana-Dev/siza-mcp/security)
[![Security](https://img.shields.io/github/actions/workflow/status/LucasSantana-Dev/siza-mcp/security.yml?label=security)](https://github.com/LucasSantana-Dev/siza-mcp/actions/workflows/security.yml)
[![Prettier](https://img.shields.io/badge/code%20style-prettier-ff69b4.svg)](https://prettier.io/)
[![Conventional Commits](https://img.shields.io/badge/Conventional%20Commits-1.0.0-yellow)](https://conventionalcommits.org)

### ğŸŒŸ **Platform & Integration**

[![Model Context Protocol](https://img.shields.io/badge/MCP-1.26.0-blue)](https://modelcontextprotocol.io)
[![Figma API](https://img.shields.io/badge/Figma%20API-Integrated-purple)](https://www.figma.com/developers/api)
[![React](https://img.shields.io/badge/React-18-blue)](https://reactjs.org/)
[![Next.js](https://img.shields.io/badge/Next.js-14-black)](https://nextjs.org/)
[![Vue.js](https://img.shields.io/badge/Vue.js-3-green)](https://vuejs.org/)
[![Angular](https://img.shields.io/badge/Angular-18-red)](https://angular.io/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.4-38B2FF)](https://tailwindcss.com/)
[![Playwright](https://img.shields.io/badge/Playwright-1.58-2EAD33)](https://playwright.dev/)

### ğŸ“Š **Activity & Community**

[![GitHub Activity](https://img.shields.io/github/last-commit/LucasSantana-Dev/siza-mcp)](https://github.com/LucasSantana-Dev/siza-mcp/graphs/commit-activity)
[![GitHub Watchers](https://img.shields.io/github/watchers/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/watchers)
[![GitHub Tag](https://img.shields.io/github/tag/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/tags)
[![GitHub License](https://img.shields.io/github/license/LucasSantana-Dev/siza-mcp.svg)](https://github.com/LucasSantana-Dev/siza-mcp/blob/main/LICENSE)

### ğŸ’ **Zero-Cost & Open Source**

[![100% Free](https://img.shields.io/badge/Price-Free-green)](https://github.com/LucasSantana-Dev/siza-mcp)
[![No API Keys](https://img.shields.io/badge/API-None-brightgreen)](https://github.com/LucasSantana-Dev/siza-mcp)
[![Self-Hosted](https://img.shields.io/badge/Deployment-Self--Hosted-blue)](https://github.com/LucasSantana-Dev/siza-mcp)
[![Zero Dependencies](https://img.shields.io/badge/Dependencies-0%20Cloud-orange)](https://github.com/LucasSantana-Dev/siza-mcp)
[![MIT License](https://img.shields.io/badge/License-MIT-yellow)](https://opensource.org/licenses/MIT)
[![Open Source](https://img.shields.io/badge/Open%20Source-%E2%9C%9F%8D-blue)](https://github.com/LucasSantana-Dev/siza-mcp)

## Architecture

Siza MCP is a thin MCP protocol adapter that delegates all AI/generation logic
to [`@forgespace/siza-gen`](https://github.com/Forge-Space/siza-gen):

```
siza-mcp (~355 KB)                 @forgespace/siza-gen (~1.8 MB)
â”œâ”€â”€ src/index.ts (MCP server)      â”œâ”€â”€ ml/        (embeddings, quality, training)
â”œâ”€â”€ tools/     (21 tool defs)      â”œâ”€â”€ generators/ (react, vue, angular, svelte, html)
â”œâ”€â”€ services/  (figma, analysis)   â”œâ”€â”€ registry/   (502 snippets, compositions, packs)
â”œâ”€â”€ resources/ (2 MCP resources)   â”œâ”€â”€ feedback/   (self-learning, pattern promotion)
â””â”€â”€ lib/       (browser, image)    â”œâ”€â”€ quality/    (anti-generic rules, diversity)
                                   â””â”€â”€ artifacts/  (store, learning loop)
```

## âœ¨ **What It Does**

Siza MCP is a **Model Context Protocol server** that transforms natural language
into production-ready UI. From full-stack applications to individual components,
interactive prototypes to design mockups â€” all generated with AI precision.

### ğŸš€ **Key Capabilities**

- ğŸ—ï¸ **Full Application Scaffolding** - React, Next.js, Vue, Angular, HTML
- ğŸ¨ **Component Generation** - Style-aware, framework-specific code
- ğŸ“¸ **Screenshot-to-Code** - Convert images to working components
- ğŸ­ **Interactive Prototypes** - Clickable HTML prototypes with navigation
- ğŸ–¼ï¸ **Design Mockups** - SVG/PNG UI mockups and wireframes
- â™¿ **Accessibility Auditing** - WCAG 2.1 compliance with fixes
- ğŸ”— **Figma Integration** - Bidirectional design token flow
- ğŸ¯ **Template Library** - Landing pages, dashboards, auth flows

## ğŸ› ï¸ **Zero-Cost Architecture**

âœ… **100% Free & Open Source** âœ… **No API Keys Required** âœ… **Self-Hosted
Only** âœ… **MIT License** âœ… **No Cloud Dependencies**

Built with the
[Model Context Protocol TypeScript SDK](https://github.com/modelcontextprotocol/typescript-sdk).

## Tools

| #   | Tool                          | Category | Description                                                                                                                      |
| --- | ----------------------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------- |
| 1   | `scaffold_full_application`   | Code     | Generate full project boilerplate (React/Next.js/Vue/Angular/HTML + Tailwind)                                                    |
| 2   | `generate_ui_component`       | Code     | Create/iterate UI components with style audit + design context. Supports shadcn/ui, Radix UI, Headless UI, Material UI, PrimeVue |
| 3   | `generate_prototype`          | Design   | Create interactive HTML prototype with screen flows and navigation                                                               |
| 4   | `generate_design_image`       | Design   | Generate SVG/PNG mockup images of UI screens/components                                                                          |
| 5   | `fetch_design_inspiration`    | Context  | Extract visual metadata (colors, typography, layout) from URLs                                                                   |
| 6   | `analyze_design_references`   | Context  | Analyze design references from URLs and images, detect common patterns                                                           |
| 7   | `figma_context_parser`        | Context  | Read Figma file nodes, extract tokens, map to Tailwind                                                                           |
| 8   | `figma_push_variables`        | Design   | Write design tokens back to Figma as Variables                                                                                   |
| 9   | `image_to_component`          | Code     | Convert screenshot/mockup/wireframe image into framework-specific component code                                                 |
| 10  | `generate_page_template`      | Code     | Generate pre-built page templates (landing, dashboard, auth, pricing, CRUD, etc.)                                                |
| 11  | `refine_component`            | Code     | Iteratively improve existing components via natural language feedback                                                            |
| 12  | `audit_accessibility`         | Quality  | Audit component code for WCAG 2.1 violations with fix suggestions                                                                |
| 13  | `submit_feedback`             | Quality  | Submit feedback on generated components to improve future output                                                                 |
| 14  | `manage_training`             | ML       | Manage training data ingestion and model fine-tuning                                                                             |
| 15  | `analyze_component_library`   | Context  | Analyze component library patterns for style-aware generation                                                                    |
| 16  | `analyze_design_image`        | ML       | Analyze design images for training data extraction                                                                               |
| 17  | `generate_from_template_pack` | Code     | Generate complete multi-page apps from curated template packs (SaaS, Landing, AI Chat)                                           |
| 18  | `generate_api_route`          | Backend  | Generate production-ready API routes with validation, auth, and error handling                                                   |
| 19  | `generate_backend_module`     | Backend  | Generate complete backend feature modules with routes, services, and middleware                                                  |
| 20  | `scaffold_backend`            | Backend  | Generate full backend project scaffolds with auth, database, monitoring, and caching                                             |
| 21  | `generate_form`               | Code     | Generate production-ready forms with validation (Zod/Yup), multi-step flows, and accessible markup                               |

## Component Library Support

The `generate_ui_component` and `image_to_component` tools accept a
`component_library` parameter to generate framework-specific code using popular
UI libraries:

| Library       | React                 | Vue                | Angular              | Svelte                | HTML |
| ------------- | --------------------- | ------------------ | -------------------- | --------------------- | ---- |
| `shadcn`      | âœ… shadcn/ui          | âœ… shadcn-vue      | âœ… (Tailwind)        | âœ… bits-ui            | âœ…   |
| `radix`       | âœ… @radix-ui/react-\* | âœ… @radix-ui/vue   | âœ… (Tailwind)        | âœ… @radix-ui/svelte   | âœ…   |
| `headlessui`  | âœ… @headlessui/react  | âœ… @headlessui/vue | âœ… (Tailwind)        | âœ… @headlessui/svelte | âœ…   |
| `material`    | âœ… @mui/material      | âœ… (Vuetify)       | âœ… @angular/material | âœ… @smui/material     | âœ…   |
| `primevue`    | âœ… (Headless UI)      | âœ… primevue        | âœ… primeng           | âœ… (Tailwind)         | âœ…   |
| `none` / omit | âœ… Tailwind CSS       | âœ… Tailwind CSS    | âœ… Tailwind CSS      | âœ… Tailwind CSS       | âœ…   |

Each generator produces a component file **plus** a test file (React also
generates a Storybook story).

## Brand Identity Integration

All 5 generation tools accept an optional `brand_identity` parameter â€” a JSON
string from branding-mcp's `generate_brand_identity` tool. When provided, brand
colors, typography, spacing, shadows, and border radii are injected into the
design context for the duration of the generation request.

```
brand_identity: "<JSON from generate_brand_identity>"
```

Tools with brand support: `generate_ui_component`, `generate_page_template`,
`scaffold_full_application`, `generate_design_image`, `generate_prototype`.

## Resource

| URI                            | Description                                                             |
| ------------------------------ | ----------------------------------------------------------------------- |
| `application://current-styles` | Current `IDesignContext` as JSON â€” session-scoped style source of truth |

## ğŸš€ **Quick Start**

### **Option 1: NPX (Instant Setup)** âš¡

```bash
npx -y siza-mcp@latest
```

### **Option 2: Global Install** ğŸ“¦

```bash
npm install -g siza-mcp
siza-mcp
```

### **Option 3: Docker** ğŸ³

```bash
docker build -t siza-mcp .
docker run --rm -i siza-mcp
```

---

## ğŸ”§ **IDE Integration**

Add to your IDE's MCP configuration (Windsurf, Cursor, etc.):

```json
{
  "mcpServers": {
    "siza-mcp": {
      "command": "npx",
      "args": ["-y", "siza-mcp@latest"],
      "env": {
        "FIGMA_ACCESS_TOKEN": "your_token_here",
        "NODE_ENV": "production"
      }
    }
  }
}
```

> **ğŸ’¡ Tip:** Use Docker for production, NPX for quick testing

#### Option 1: Docker (Production Ready)

Add to your IDE's MCP configuration:

```json
{
  "mcpServers": {
    "siza-mcp": {
      "command": "docker",
      "args": [
        "run",
        "--rm",
        "-i",
        "-e",
        "FIGMA_ACCESS_TOKEN",
        "siza-mcp:latest"
      ],
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
```

#### Option 2: NPX (Quick Setup)

```json
{
  "mcpServers": {
    "siza-mcp": {
      "command": "npx",
      "args": ["-y", "siza-mcp@latest"],
      "env": {
        "FIGMA_ACCESS_TOKEN": "your_figma_token_here",
        "NODE_ENV": "production"
      }
    }
  }
}
```

**ğŸ“– Full Setup Guide**: See [MCP_SETUP_GUIDE.md](./MCP_SETUP_GUIDE.md) for
detailed configuration options.

### Option 3: Local Development

```bash
# Run the automated setup script
./setup-ide.sh

# Edit environment variables
nano .env
```

### Option 4: Manual Setup

```bash
# Install dependencies
npm install

# Copy environment template
cp .env.example .env

# Edit .env with your values
# Add your FIGMA_ACCESS_TOKEN

# Build
npm run build

# Run (stdio transport)
node dist/index.js
```

## Development

```bash
# Watch mode
npm run dev

# Run tests
npm test

# Run tests in watch mode (only changed files)
npm run test:watch

# Run tests with coverage
npm run test:coverage

# Clean build artifacts
npm run clean

# Validate all checks (lint, format, typecheck, test)
npm run validate

# Docker commands
npm run docker:build
npm run docker:run
```

## MCP Integration

Siza MCP server can be integrated with any MCP-compatible IDE using standard
Docker or NPX commands.

### ğŸ¯ Quick Setup (No Clone Required)

#### Docker Integration (Recommended)

1. **Build Docker image once:**

   ```bash
   docker pull siza-mcp:latest
   # Or build from source: docker build -t siza-mcp:latest .
   ```

2. **Add to your IDE's MCP configuration:**
   ```json
   {
     "mcpServers": {
       "siza-mcp": {
         "command": "docker",
         "args": [
           "run",
           "--rm",
           "-i",
           "-e",
           "FIGMA_ACCESS_TOKEN",
           "siza-mcp:latest"
         ],
         "env": {
           "NODE_ENV": "production"
         }
       }
     }
   }
   ```

#### NPX Integration (Easiest)

Add to your IDE's MCP configuration:

```json
{
  "mcpServers": {
    "siza-mcp": {
      "command": "npx",
      "args": ["-y", "siza-mcp@latest"],
      "env": {
        "FIGMA_ACCESS_TOKEN": "your_figma_token_here",
        "NODE_ENV": "production"
      }
    }
  }
}
```

### ğŸ”§ IDE-Specific Setup

#### Windsurf

1. Open `/Users/lucassantana/.codeium/windsurf/mcp_config.json`
2. Add one of the configurations above
3. Restart Windsurf
4. Tools appear automatically in the interface

#### Cursor IDE

1. Open `.cursorrules` or MCP settings
2. Add the configuration
3. Restart Cursor

#### VS Code (with MCP extension)

1. Open MCP settings
2. Add the configuration
3. Reload VS Code

### ğŸ“‹ Available Tools After Setup

Once connected, you'll have access to all 20 MCP tools:

- `generate_ui_component` - Create React/Vue/Angular components
- `scaffold_full_application` - Generate full applications
- `generate_api_route` - Generate production-ready API routes
- `generate_backend_module` - Generate backend feature modules
- `scaffold_backend` - Generate complete backend projects
- `figma_context_parser` - Extract Figma design tokens
- `image_to_component` - Convert screenshots to code
- And 13+ more tools

### ğŸ” Authentication

Set your Figma token in the MCP configuration:

```json
"env": {
  "FIGMA_ACCESS_TOKEN": "figd_your_token_here"
}
```

**ğŸ“– Complete Guide**: See [MCP_SETUP_GUIDE.md](./MCP_SETUP_GUIDE.md) for
detailed instructions.

## IDE Setup

### ğŸš€ Automated Setup

Run the automated setup script for complete IDE configuration:

```bash
./setup-ide.sh
```

This script:

- âœ… Creates `.env` from `.env.example`
- âœ… Installs VS Code extensions (if available)
- âœ… Installs Node.js dependencies
- âœ… Builds the project
- âœ… Tests environment variables

### ğŸ“š Manual IDE Configuration

#### VS Code

- **Extensions**: TypeScript, ESLint, Prettier, REST Client
- **Debug Configuration**: `.vscode/launch.json` (auto-loads `.env`)
- **Tasks**: Build and start tasks configured
- **Settings**: Environment file auto-loading enabled

#### Cursor IDE

- **Environment**: `.cursorrules` configured for Siza MCP
- **Auto-loading**: `.env` file automatically detected
- **Development**: Optimized for MCP server development

#### Windsurf IDE

- **Configuration**: `.windsurf/` directory with MCP development rules
- **Environment**: `.env` file automatically loaded
- **Integration**: Seamless MCP tool development

### ğŸ”§ Environment Variables

Create `.env` file with your configuration:

```bash
# Required for Figma integration
FIGMA_ACCESS_TOKEN=your_figma_access_token_here

# Optional configuration
NODE_ENV=development
LOG_LEVEL=debug
```

**ğŸ“– Detailed Instructions**: See [IDE-SETUP.md](./IDE-SETUP.md) for
comprehensive IDE configuration guide.

## Test Coverage

Current test coverage: **82%+** (67 test suites, 1192 tests)

Coverage thresholds are enforced via Jest configuration. All tests must pass and
maintain coverage levels before merging.

### Coverage Status

- 1192+ tests passing across 67 test suites
- 82%+ statement coverage
- Component library integration fully tested
- Accessibility features comprehensively tested
- Quality validation for 450+ component snippets

## Docker

```bash
docker build -t siza-mcp .
docker run -i siza-mcp
```

## Environment Variables

| Variable             | Required             | Description                                       |
| -------------------- | -------------------- | ------------------------------------------------- |
| `FIGMA_ACCESS_TOKEN` | Only for Figma tools | Personal access token from Figma account settings |

## Figma Integration Status

### âœ… **Implemented Features**

- **`figma_context_parser`**: Read Figma files, extract design tokens, map to
  Tailwind CSS
- **`figma_push_variables`**: Write design tokens back to Figma as Variables
- **Bidirectional token flow**: Siza â†” Figma

### ğŸ”§ **Setup Requirements**

1. Get Figma access token from
   [Figma Account Settings](https://www.figma.com/developers/api#access-tokens)
2. Set `FIGMA_ACCESS_TOKEN` environment variable
3. Use file key from Figma URL: `figma.com/file/<file_key>/...`

### ğŸ“‹ **Usage Examples**

```bash
# Parse Figma design tokens (JSON-RPC)
echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/call", "params": {"name": "figma_context_parser", "arguments": {"file_key": "ABC123"}}}' | node dist/index.js

# Push variables to Figma (JSON-RPC)
echo '{"jsonrpc": "2.0", "id": 2, "method": "tools/call", "params": {"name": "figma_push_variables", "arguments": {"file_key": "ABC123", "variables": [{"name": "primary-color", "value": "#3b82f6"}]}}}' | node dist/index.js
```

## Production Deployment

### ğŸš€ **Production Ready Features**

- âœ… **20 MCP tools** fully operational
- âœ… **Component library integration** (shadcn/ui, Radix UI, Headless UI,
  Material UI)
- âœ… **Accessibility compliance** (WCAG 2.1 AA/AAA)
- âœ… **Responsive design** generation
- âœ… **Zero-cost architecture** (self-hosted)

### ğŸ“¦ **Docker Deployment**

```bash
# Build production image
docker build -t siza-mcp:latest .

# Run production server
docker run -d \
  --name siza-mcp \
  -p 8026:8026 \
  -e FIGMA_ACCESS_TOKEN=your_token_here \
  siza-mcp:latest
```

### ğŸ”— **Integration Examples**

- **mcp-gateway**: Add to your Docker Compose setup
- **Claude Desktop**: Connect via stdio transport
- **Custom MCP clients**: Use SSE or stdio transport

## ğŸš€ Deployment

### Automated Deployment

Siza MCP uses GitHub Actions for automated deployment with comprehensive
validation:

```bash
# Trigger deployment via GitHub Actions
1. Go to: https://github.com/LucasSantana-Dev/siza-mcp/actions
2. Click "Deploy" workflow
3. Choose version type (patch/minor/major)
4. Set dry_run to false for production deployment
5. Click "Run workflow"
```

**Features:**

- âœ… Full validation (lint, test, build, security audit)
- âœ… Multi-platform Docker builds (amd64/arm64)
- âœ… Automatic npm publishing with provenance
- âœ… GitHub release creation
- âœ… Semantic versioning
- âœ… Rollback capabilities

### Quick Setup

Run the setup script to configure deployment:

```bash
./scripts/setup-deployment.sh
```

This script helps configure:

- GitHub secrets (NPM_TOKEN, DOCKER_USERNAME, DOCKER_PASSWORD)
- Branch protection rules
- Local validation

### Manual Deployment

For local testing or emergency deployments:

```bash
# Update version
npm version patch  # or minor/major

# Full validation
npm run validate:all

# Build and publish
npm run build
npm publish --access public

# Create Git tag
git push origin main --follow-tags
```

### Docker Deployment

```bash
# Build and push multi-platform image
docker buildx build --platform linux/amd64,linux/arm64 \
  --push -t lucassantana/siza-mcp:latest .

# Pull and run
docker pull lucassantana/siza-mcp:latest
docker run -d --name siza-mcp \
  -e FIGMA_ACCESS_TOKEN=your_token \
  lucassantana/siza-mcp:latest
```

ğŸ“– **Full deployment guide**: See [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md)

## Project Structure

```text
siza-mcp/
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                        # McpServer + stdio transport
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ scaffold-full-application.ts
â”‚   â”‚   â”œâ”€â”€ generate-ui-component.ts
â”‚   â”‚   â”œâ”€â”€ generate-prototype.ts
â”‚   â”‚   â”œâ”€â”€ generate-design-image.ts
â”‚   â”‚   â”œâ”€â”€ fetch-design-inspiration.ts
â”‚   â”‚   â”œâ”€â”€ analyze-design-references.ts
â”‚   â”‚   â”œâ”€â”€ figma-context-parser.ts
â”‚   â”‚   â”œâ”€â”€ figma-push-variables.ts
â”‚   â”‚   â”œâ”€â”€ image-to-component.ts
â”‚   â”‚   â”œâ”€â”€ generate-page-template.ts
â”‚   â”‚   â”œâ”€â”€ refine-component.ts
â”‚   â”‚   â””â”€â”€ audit-accessibility.ts
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â””â”€â”€ current-styles.ts
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â”œâ”€â”€ design-context.ts
â”‚   â”‚   â”œâ”€â”€ style-audit.ts
â”‚   â”‚   â”œâ”€â”€ figma-client.ts
â”‚   â”‚   â”œâ”€â”€ design-extractor.ts
â”‚   â”‚   â”œâ”€â”€ browser-scraper.ts
â”‚   â”‚   â”œâ”€â”€ image-analyzer.ts
â”‚   â”‚   â”œâ”€â”€ pattern-detector.ts
â”‚   â”‚   â”œâ”€â”€ tailwind-mapper.ts
â”‚   â”‚   â”œâ”€â”€ image-renderer.ts
â”‚   â”‚   â”œâ”€â”€ prototype-builder.ts
â”‚   â”‚   â”œâ”€â”€ design-references/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ font-pairings.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ color-systems.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ inspiration-sources.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”‚       â”œâ”€â”€ react.ts
â”‚   â”‚       â”œâ”€â”€ nextjs.ts
â”‚   â”‚       â”œâ”€â”€ vue.ts
â”‚   â”‚       â”œâ”€â”€ angular.ts
â”‚   â”‚       â”œâ”€â”€ html.ts
â”‚   â”‚       â””â”€â”€ prototype-shell.ts
â”‚   â””â”€â”€ __tests__/
â”‚       â”œâ”€â”€ *.unit.test.ts              # Unit tests for lib modules
â”‚       â”œâ”€â”€ *.integration.test.ts       # Integration tests
â”‚       â”œâ”€â”€ tools/                      # Tool-specific tests
â”‚       â”‚   â””â”€â”€ *.unit.test.ts
â”‚       â””â”€â”€ resources/                  # Resource tests
â”‚           â””â”€â”€ *.unit.test.ts
```

## mcp-gateway Integration

To add Siza to your mcp-gateway Docker Compose setup:

1. **`docker-compose.yml`**: Add a `siza` service on port `8026`.
2. **`scripts/gateways.txt`**: Add `siza|http://siza:8026/sse|SSE`.
3. **`.env.example`**: Add `UIFORGE_PORT=8026` and `FIGMA_ACCESS_TOKEN=`.

## Architecture

- **Transport**: stdio (gateway wraps via `mcpgateway.translate` â†’ SSE)
- **Templates**: Embedded TS template functions per framework
- **Image generation**: `satori` (JSX â†’ SVG) + `@resvg/resvg-js` (SVG â†’ PNG)
- **Style consistency**: In-memory `IDesignContext` store exposed via
  `application://current-styles`
- **Figma write-back**: Variables REST API for design tokens (only supported
  write path)

## ML & Specialist Agents

Five specialist agents powered by RAG (Retrieval-Augmented Generation) over
external datasets. All features degrade gracefully when no training data exists.

### Data Ingestion

```bash
npx tsx src/scripts/ingest-training-data.ts --source all   # Ingest all sources
npx tsx src/scripts/ingest-training-data.ts --stats         # Show embedding counts
npx tsx src/scripts/ingest-training-data.ts --test-query "accessible modal"
```

Sources: shadcn/ui (MIT), axe-core (MPL 2.0), Material Design 3 (Apache 2.0),
GitHub Primer (MIT), WAI-ARIA APG (W3C).

### Training Data Generation

```bash
npx tsx src/scripts/generate-training-data.ts              # Generate all adapters
npx tsx src/scripts/generate-training-data.ts --stats      # Show training data counts
```

### Cross-Repo Knowledge Sync

```bash
npx tsx src/scripts/sync-knowledge.ts                      # Export to mcp-gateway JSONL
npx tsx src/scripts/sync-knowledge.ts --dry-run            # Preview without writing
```

## License

MIT
